{"version":3,"file":"js/post.2c1b3505.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,mBAAmBH,EAAG,SAAS,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,YAAYC,MAAM,KAAMC,UAAU,IAAI,CAACT,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,mDAAmD,CAACV,EAAG,kBAAkB,CAACU,MAAM,CAAC,KAAO,IAAI,YAAY,GAAG,YAAc,gCAAgCC,MAAM,CAACC,MAAOd,EAAIe,KAAKC,KAAMC,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIe,KAAM,OAAQG,EAAI,EAAEE,WAAW,gBAAgB,GAAGlB,EAAG,SAAS,CAACE,YAAY,wBAAwBQ,MAAM,CAAC,KAAO,SAAS,SAAWZ,EAAIqB,UAAU,CAACrB,EAAIK,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,QAAQJ,EAAIsB,GAAItB,EAAIuB,QAAQ,SAASC,EAAMC,GAAO,OAAOvB,EAAG,MAAM,CAACwB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASd,MAA6B,IAAtBd,EAAIuB,OAAOM,OAAcT,WAAW,wBAAwBU,IAAIL,GAAO,CAACvB,EAAG,QAAQ,CAACE,YAAY,oBAAoBQ,MAAM,CAAC,GAAK,kBAAkB,CAACZ,EAAIK,GAAG,IAAIL,EAAI+B,GAAGP,GAAO,QAAQ,IAAG,IAAI,IAAI,EACvgC,EACIQ,EAAkB,GCmBtB,G,QAAA,CACAC,OACA,OACAlB,KAAAA,CACAC,KAAAA,IAEAO,OAAAA,GAEA,EACAW,SAAAA,CACAb,UACA,yBAIA,GAEAc,QAAAA,CACA,oBACA,2CACAC,OAAAA,OACAC,YAAAA,UACAC,QAAAA,CACA,mCAEAC,KAAAA,KAAAA,UAAAA,CAAA,wBAEA,QACA,mBAAAC,KAAAA,MAAA,qBACA,mBACA,uBACA,UACA,KACA,eACAC,EAAAA,KAAAA,EAAAA,GAAAA,KAEA,aACA,MACA,mBAAAD,KAAAA,WAAA,eAEA,KC7DoP,I,UCOhPE,GAAY,OACd,EACA3C,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAeU,EAAiB,O","sources":["webpack://frontend/./src/views/Post.vue","webpack://frontend/src/views/Post.vue","webpack://frontend/./src/views/Post.vue?9275","webpack://frontend/./src/views/Post.vue?78a1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"vh-100\"},[_c('h1',{staticClass:\"display-4\"},[_vm._v(\"Create a post\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.postMessage.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"Create a post of arbitrary length and share it\"}},[_c('b-form-textarea',{attrs:{\"rows\":\"8\",\"no-resize\":\"\",\"placeholder\":\"What are you thinking about?\"},model:{value:(_vm.form.text),callback:function ($$v) {_vm.$set(_vm.form, \"text\", $$v)},expression:\"form.text\"}})],1),_c('button',{staticClass:\"btn btn-primary w-100\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isEmpty}},[_vm._v(\"Share it!\")]),_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.errors),function(error,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.length !== 0),expression:\"errors.length !== 0\"}],key:index},[_c('small',{staticClass:\"block text-danger\",attrs:{\"id\":\"passwordError\"}},[_vm._v(\" \"+_vm._s(error)+\" \")])])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"vh-100\">\n        <h1 class=\"display-4\">Create a post</h1>\n        <b-form @submit.prevent=\"postMessage\">\n            <b-form-group label=\"Create a post of arbitrary length and share it\">\n                <b-form-textarea rows=\"8\" no-resize v-model=\"form.text\"\n                    placeholder=\"What are you thinking about?\"></b-form-textarea>\n            </b-form-group>\n            <button type=\"submit\" class=\"btn btn-primary w-100\" :disabled=\"isEmpty\">Share it!</button>\n            <div class=\"mt-2\">\n                <div v-for=\"(error, index) in errors\" :key=\"index\" v-show=\"errors.length !== 0\">\n                    <small id=\"passwordError\" class=\"block text-danger\">\n                        {{ error }}\n                    </small>\n                </div>\n            </div>\n        </b-form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            form: {\n                text: \"\",\n            },\n            errors: []\n        }\n    },\n    computed: {\n        isEmpty() {\n            if (this.form.text === \"\") {\n                return true;\n            }\n            return false;\n        }\n    },\n    methods: {\n        async postMessage() {\n            const res = await fetchApi(\"/social/messages\", {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ \"text\": this.form.text })\n            });\n            if (res.ok) {\n                this.$router.push({ path: \"/\" }).catch(() => { });\n            } else if (res.status === 400) {\n                const errorsJson = await res.json();\n                const errors = errorsJson.error;\n                const errorsLog = [];\n                for (let i in errors) {\n                    errorsLog.push(errors[i].msg);\n                }\n                this.errors = errorsLog;\n            } else {\n                this.$router.push({ path: \"/error\" }).catch(() => { });\n            }\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=76d40d67&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","postMessage","apply","arguments","attrs","model","value","form","text","callback","$$v","$set","expression","isEmpty","_l","errors","error","index","directives","name","rawName","length","key","_s","staticRenderFns","data","computed","methods","method","credentials","headers","body","path","errorsLog","component"],"sourceRoot":""}