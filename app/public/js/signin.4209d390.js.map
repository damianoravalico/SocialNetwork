{"version":3,"file":"js/signin.4209d390.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAG,aAAaH,EAAG,SAAS,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,SAASC,MAAM,KAAMC,UAAU,IAAI,CAACT,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,wBAAwB,CAACV,EAAG,eAAe,CAACE,YAAY,OAAOQ,MAAM,CAAC,GAAK,WAAW,YAAc,YAAYC,MAAM,CAACC,MAAOd,EAAIe,KAAKC,SAAUC,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIe,KAAM,WAAYG,EAAI,EAAEE,WAAW,oBAAoB,GAAGlB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,wBAAwB,CAACV,EAAG,eAAe,CAACE,YAAY,OAAOQ,MAAM,CAAC,GAAK,WAAW,KAAO,WAAW,YAAc,YAAYC,MAAM,CAACC,MAAOd,EAAIe,KAAKM,SAAUJ,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIe,KAAM,WAAYG,EAAI,EAAEE,WAAW,oBAAoB,GAAGlB,EAAG,SAAS,CAACE,YAAY,wBAAwBQ,MAAM,CAAC,KAAO,SAAS,UAAYZ,EAAIsB,aAAa,CAACtB,EAAIK,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,QAAQJ,EAAIuB,GAAIvB,EAAIwB,QAAQ,SAASC,EAAMC,GAAO,OAAOxB,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASf,MAA6B,IAAtBd,EAAIwB,OAAOM,OAAcV,WAAW,wBAAwBW,IAAIL,GAAO,CAACxB,EAAG,QAAQ,CAACE,YAAY,oBAAoBQ,MAAM,CAAC,GAAK,kBAAkB,CAACZ,EAAIK,GAAG,IAAIL,EAAIgC,GAAGP,GAAO,QAAQ,IAAG,IAAI,IAAI,EAC9wC,EACIQ,EAAkB,GCyBtB,G,QAAA,CACAC,OACA,OACAnB,KAAAA,CACAC,SAAAA,GACAK,SAAAA,IAEAG,OAAAA,GAEA,EACAW,SAAAA,CACAb,aACA,sDAIA,GAEAc,QAAAA,CACA,iBACA,SACA,4BACA,6BAEA,eACAC,SAAAA,eAAAA,GAAAA,UAAAA,OAAAA,cAEA,uCACAC,OAAAA,OACAC,YAAAA,UACAC,QAAAA,CACA,mCAEAC,KAAAA,KAAAA,UAAAA,KAGA,GADA,eACA,KACA,sBAAAC,KAAAA,WACA,mBACA,uBACA,UACA,KACA,eACAL,SAAAA,eAAAA,EAAAA,GAAAA,OAAAA,UAAAA,IAAAA,cACAM,EAAAA,KAAAA,EAAAA,GAAAA,KAEA,aACA,yBACA,uBACA,yBACA,yBACA,uBACA,yBACA,MACA,mBAAAD,KAAAA,WAAA,eAEA,KCnFsP,I,UCOlPE,GAAY,OACd,EACA7C,EACAkC,GACA,EACA,KACA,KACA,MAIF,EAAeW,EAAiB,O","sources":["webpack://frontend/./src/views/Signin.vue","webpack://frontend/src/views/Signin.vue","webpack://frontend/./src/views/Signin.vue?0248","webpack://frontend/./src/views/Signin.vue?abee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-75 mx-auto\"},[_c('h1',{staticClass:\"display-4\"},[_vm._v(\"Sign in\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"Enter your username\"}},[_c('b-form-input',{staticClass:\"mb-1\",attrs:{\"id\":\"username\",\"placeholder\":\"Username\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Enter your password\"}},[_c('b-form-input',{staticClass:\"mb-1\",attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('button',{staticClass:\"btn btn-primary w-100\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.isComplete}},[_vm._v(\"Sign in\")]),_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.errors),function(error,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.length !== 0),expression:\"errors.length !== 0\"}],key:index},[_c('small',{staticClass:\"block text-danger\",attrs:{\"id\":\"passwordError\"}},[_vm._v(\" \"+_vm._s(error)+\" \")])])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"w-75 mx-auto\">\n        <h1 class=\"display-4\">Sign in</h1>\n        <b-form @submit.prevent=\"onSubmit\">\n            <b-form-group label=\"Enter your username\">\n                <b-form-input id=\"username\" class=\"mb-1\" v-model=\"form.username\" placeholder=\"Username\"></b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"Enter your password\">\n                <b-form-input id=\"password\" type=\"password\" class=\"mb-1\" v-model=\"form.password\"\n                    placeholder=\"Password\"></b-form-input>\n            </b-form-group>\n\n            <button type=\"submit\" class=\"btn btn-primary w-100\" :disabled=\"!isComplete\">Sign in</button>\n\n            <div class=\"mt-2\">\n                <div v-for=\"(error, index) in errors\" :key=\"index\" v-show=\"errors.length !== 0\">\n                    <small id=\"passwordError\" class=\"block text-danger\">\n                        {{ error }}\n                    </small>\n                </div>\n            </div>\n        </b-form>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            form: {\n                username: \"\",\n                password: \"\",\n            },\n            errors: [],\n        }\n    },\n    computed: {\n        isComplete() {\n            if (this.form.username === \"\" || this.form.password === \"\") {\n                return false;\n            }\n            return true;\n        }\n    },\n    methods: {\n        async onSubmit() {\n            const body = {\n                \"username\": this.form.username,\n                \"password\": this.form.password\n            }\n            for (let element in body) {\n                document.getElementById(element).classList.remove(\"is-invalid\");\n            }\n            const res = await fetchApi(\"/auth/signin\", {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(body)\n            });\n            this.errors = [];\n            if (res.ok) {\n                this.$router.replace({ path: \"/\" });\n            } else if (res.status === 400) {\n                const errorsJson = await res.json();\n                const errors = errorsJson.error;\n                const errorsLog = [];\n                for (let i in errors) {\n                    document.getElementById(errors[i].param).classList.add(\"is-invalid\");\n                    errorsLog.push(errors[i].msg);\n                }\n                this.errors = errorsLog;\n            } else if (res.status === 404) {\n                const error = await res.json();\n                this.errors.push(error.error);\n            } else if (res.status === 403) {\n                const error = await res.json();\n                this.errors.push(error.error);\n            } else {\n                this.$router.push({ path: \"/error\" }).catch(() => { });\n            }\n        },\n    }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signin.vue?vue&type=template&id=5b454056&\"\nimport script from \"./Signin.vue?vue&type=script&lang=js&\"\nexport * from \"./Signin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","onSubmit","apply","arguments","attrs","model","value","form","username","callback","$$v","$set","expression","password","isComplete","_l","errors","error","index","directives","name","rawName","length","key","_s","staticRenderFns","data","computed","methods","document","method","credentials","headers","body","path","errorsLog","component"],"sourceRoot":""}