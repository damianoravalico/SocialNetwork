"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[577],{2950:function(s,r,t){t.r(r),t.d(r,{default:function(){return u}});var e=function(){var s=this,r=s._self._c;return r("div",{staticClass:"w-75 mx-auto"},[r("h1",{staticClass:"display-4"},[s._v("Sign in")]),r("b-form",{on:{submit:function(r){return r.preventDefault(),s.onSubmit.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Enter your username"}},[r("b-form-input",{staticClass:"mb-1",attrs:{id:"username",placeholder:"Username"},model:{value:s.form.username,callback:function(r){s.$set(s.form,"username",r)},expression:"form.username"}})],1),r("b-form-group",{attrs:{label:"Enter your password"}},[r("b-form-input",{staticClass:"mb-1",attrs:{id:"password",type:"password",placeholder:"Password"},model:{value:s.form.password,callback:function(r){s.$set(s.form,"password",r)},expression:"form.password"}})],1),r("button",{staticClass:"btn btn-primary w-100",attrs:{type:"submit",disabled:!s.isComplete}},[s._v("Sign in")]),r("div",{staticClass:"mt-2"},s._l(s.errors,(function(t,e){return r("div",{directives:[{name:"show",rawName:"v-show",value:0!==s.errors.length,expression:"errors.length !== 0"}],key:e},[r("small",{staticClass:"block text-danger",attrs:{id:"passwordError"}},[s._v(" "+s._s(t)+" ")])])})),0)],1)],1)},a=[],o=(t(7658),{data(){return{form:{username:"",password:""},errors:[]}},computed:{isComplete(){return""!==this.form.username&&""!==this.form.password}},methods:{async onSubmit(){const s={username:this.form.username,password:this.form.password};for(let t in s)document.getElementById(t).classList.remove("is-invalid");const r=await fetchApi("/auth/signin",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(this.errors=[],r.ok)this.$router.replace({path:"/"});else if(400===r.status){const s=await r.json(),t=s.error,e=[];for(let r in t)document.getElementById(t[r].param).classList.add("is-invalid"),e.push(t[r].msg);this.errors=e}else if(404===r.status){const s=await r.json();this.errors.push(s.error)}else if(403===r.status){const s=await r.json();this.errors.push(s.error)}else this.$router.push({path:"/error"}).catch((()=>{}))}}}),n=o,i=t(1001),l=(0,i.Z)(n,e,a,!1,null,null,null),u=l.exports}}]);
//# sourceMappingURL=signin.4209d390.js.map