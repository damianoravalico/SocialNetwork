{"version":3,"file":"js/signup.e3269425.js","mappings":"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","sources":["webpack://frontend/./src/views/Signup.vue","webpack://frontend/src/views/Signup.vue","webpack://frontend/./src/views/Signup.vue?2a78","webpack://frontend/./src/views/Signup.vue?f4c7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('h1',{staticClass:\"display-4\"},[_vm._v(\"Create your account\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"w-50\"},[_c('b-form-group',{attrs:{\"label\":\"Enter your name\"}},[_c('b-form-input',{attrs:{\"id\":\"name\",\"placeholder\":\"Name\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_c('div',{staticClass:\"w-50\"},[_c('b-form-group',{attrs:{\"label\":\"Enter your surname\"}},[_c('b-form-input',{attrs:{\"id\":\"surname\",\"placeholder\":\"Surname\"},model:{value:(_vm.form.surname),callback:function ($$v) {_vm.$set(_vm.form, \"surname\", $$v)},expression:\"form.surname\"}})],1)],1)])]),_c('b-form-group',{attrs:{\"label\":\"Choose your username\"}},[_c('b-form-input',{attrs:{\"id\":\"username\",\"placeholder\":\"Username\"},on:{\"input\":function($event){return _vm.checkUsername(_vm.form.username)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Create a password\"}},[_c('b-form-input',{attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Confirm the password\"}},[_c('b-form-input',{attrs:{\"id\":\"confirmPassword\",\"type\":\"password\",\"placeholder\":\"Confirm password\"},on:{\"input\":_vm.arePasswordsMatch},model:{value:(_vm.form.confirmPassword),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPassword\", $$v)},expression:\"form.confirmPassword\"}})],1),_c('b-form-group',{attrs:{\"label\":\"You can choose to share some information about you\"}},[_c('b-form-textarea',{attrs:{\"no-resize\":\"\",\"id\":\"bio\",\"placeholder\":\"Enter something...\"},model:{value:(_vm.form.bio),callback:function ($$v) {_vm.$set(_vm.form, \"bio\", $$v)},expression:\"form.bio\"}})],1),_c('button',{staticClass:\"btn btn-primary w-100\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.isComplete}},[_vm._v(\"Sign up\")])],1),_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.errors),function(error,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.length !== 0),expression:\"errors.length !== 0\"}],key:index},[_c('small',{staticClass:\"block text-danger\",attrs:{\"id\":\"passwordError\"}},[_vm._v(\" \"+_vm._s(error)+\" \")])])}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"wrapper\" class=\"\">\n        <h1 class=\"display-4\">Create your account</h1>\n        <b-form @submit.prevent=\"onSubmit\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"w-50\">\n                        <b-form-group label=\"Enter your name\">\n                            <b-form-input id=\"name\" v-model=\"form.name\" placeholder=\"Name\"></b-form-input>\n                        </b-form-group>\n                    </div>\n                    <div class=\"w-50\">\n                        <b-form-group label=\"Enter your surname\">\n                            <b-form-input id=\"surname\" v-model=\"form.surname\" placeholder=\"Surname\"></b-form-input>\n                        </b-form-group>\n                    </div>\n                </div>\n            </div>\n\n            <b-form-group label=\"Choose your username\">\n                <b-form-input id=\"username\" v-model=\"form.username\" placeholder=\"Username\"\n                    @input=\"checkUsername(form.username)\"></b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"Create a password\">\n                <b-form-input id=\"password\" type=\"password\" v-model=\"form.password\"\n                    placeholder=\"Password\"></b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"Confirm the password\">\n                <b-form-input id=\"confirmPassword\" type=\"password\" v-model=\"form.confirmPassword\"\n                    placeholder=\"Confirm password\" @input=\"arePasswordsMatch\"></b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"You can choose to share some information about you\">\n                <b-form-textarea no-resize id=\"bio\" v-model=\"form.bio\"\n                    placeholder=\"Enter something...\"></b-form-textarea>\n            </b-form-group>\n\n            <button type=\"submit\" class=\"btn btn-primary w-100\" :disabled=\"!isComplete\">Sign up</button>\n        </b-form>\n        <div class=\"mt-2\">\n            <div v-for=\"(error, index) in errors\" :key=\"index\" v-show=\"errors.length !== 0\">\n                <small id=\"passwordError\" class=\"block text-danger\">\n                    {{ error }}\n                </small>\n            </div>\n        </div>\n    </div>\n</template>\n  \n<script>\nexport default {\n    data() {\n        return {\n            form: {\n                name: \"\",\n                surname: \"\",\n                username: \"\",\n                password: \"\",\n                confirmPassword: \"\",\n                bio: \"\",\n            },\n            errors: [],\n        }\n    },\n    computed: {\n        isComplete() {\n            if (this.form.name === \"\" || this.form.surname === \"\" || this.form.password === \"\" || this.form.confirmPassword === \"\") {\n                return false;\n            }\n            return true;\n        }\n    },\n    methods: {\n        async onSubmit() {\n            const body = {\n                \"name\": this.form.name,\n                \"surname\": this.form.surname,\n                \"username\": this.form.username,\n                \"password\": this.form.password,\n                \"confirmPassword\": this.form.confirmPassword,\n                \"bio\": this.form.bio\n            }\n            for (let element in body) {\n                document.getElementById(element).classList.remove(\"is-invalid\");\n            }\n            const res = await fetchApi(\"/auth/signup\", {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(body)\n            });\n            if (res.ok) {\n                this.$router.replace({ path: \"/\" })\n            } else if (res.status === 400) {\n                const errorsJson = await res.json();\n                const errors = errorsJson.error;\n                const errorsLog = [];\n                for (let i in errors) {\n                    document.getElementById(errors[i].param).classList.add(\"is-invalid\");\n                    errorsLog.push(errors[i].msg);\n                }\n                this.errors = errorsLog;\n            } else if (res.status !== 404) {\n                this.$router.push({ path: \"/error\" }).catch(() => { });\n            }\n        },\n        checkUsername(input) {\n            let xhr = new XMLHttpRequest();\n            let isValid = true;\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                        const xhrJson = JSON.parse(xhr.responseText);\n                        const users = xhrJson.users;\n                        for (let i in users) {\n                            if (input.toLowerCase() === users[i].username.toLowerCase()) {\n                                isValid = false;\n                                break;\n                            }\n                        }\n                        document.getElementById(\"username\").classList.add(\"is-invalid\");\n                        document.getElementById(\"username\").classList.remove(\"is-valid\");\n                    } else if (xhr.status === 404) {\n                        isValid = true;\n                    } else if (xhr.status === 400) {\n                        isValid = false;\n                    }\n                    if (isValid) {\n                        document.getElementById(\"username\").classList.add(\"is-valid\");\n                        document.getElementById(\"username\").classList.remove(\"is-invalid\");\n                    } else {\n                        document.getElementById(\"username\").classList.add(\"is-invalid\");\n                        document.getElementById(\"username\").classList.remove(\"is-valid\");\n                    }\n                }\n            };\n            const URL = \"http://localhost:3000/api/social/search?q=\".concat(input)\n            xhr.open(\"GET\", URL, true);\n            xhr.send();\n        },\n        arePasswordsMatch() {\n            if (this.form.password !== \"\" && this.form.confirmPassword !== \"\") {\n                if (this.form.password !== this.form.confirmPassword) {\n                    document.getElementById(\"confirmPassword\").classList.add(\"is-invalid\");\n                    return false;\n                }\n            }\n            document.getElementById(\"confirmPassword\").classList.remove(\"is-invalid\");\n            return true;\n        }\n    }\n}\n</script>\n\n<style scoped>\n@media screen and (max-width: 768px) {\n\n    #name::before {\n        width: 40px;\n    }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=f0217858&scoped=true&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signup.vue?vue&type=style&index=0&id=f0217858&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0217858\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","on","$event","preventDefault","onSubmit","apply","arguments","model","value","form","name","callback","$$v","$set","expression","surname","checkUsername","username","password","arePasswordsMatch","confirmPassword","bio","isComplete","_l","errors","error","index","directives","rawName","length","key","_s","staticRenderFns","data","computed","methods","document","method","credentials","headers","body","path","errorsLog","xhr","isValid","component"],"sourceRoot":""}