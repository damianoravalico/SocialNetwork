{"version":3,"file":"js/message.800114b9.js","mappings":"+IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,UAAU,cAAc,GAAG,cAAc,KAAK,CAACF,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,IAAI,CAACG,YAAY,UAAUC,YAAY,CAAC,aAAa,WAAW,CAACN,EAAIO,GAAG,6BAA6BL,EAAG,oBAAoB,CAACI,YAAY,CAAC,MAAQ,aAAaN,EAAIO,GAAG,gBAAgB,GAAGL,EAAG,IAAI,CAACI,YAAY,CAAC,cAAc,QAAQ,CAACN,EAAIO,GAAG,0BAA0BL,EAAG,cAAc,CAACG,YAAY,mCAAmCD,MAAM,CAAC,GAAK,YAAY,CAACJ,EAAIO,GAAG,eAAeL,EAAG,cAAc,CAACG,YAAY,8BAA8BD,MAAM,CAAC,GAAK,YAAY,CAACJ,EAAIO,GAAG,gBAAgB,IAC7pB,EACIC,EAAkB,G,UCDlBC,EAAS,CAAC,EAMVC,GAAY,OACdD,EACAV,EACAS,GACA,EACA,KACA,WACA,MAIF,EAAeE,EAAiB,O,oEClBhC,IAAIX,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACL,EAAIW,GAAG,GAAGT,EAAG,OAAO,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAOH,KAAKW,SAAS,GAAGV,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,IAAI,CAACG,YAAY,OAAOC,YAAY,CAAC,cAAc,QAAQ,CAACN,EAAIO,GAAG,IAAIP,EAAIa,GAAGb,EAAIc,QAAQC,MAAM,OAAOb,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,IAAI,CAACF,EAAIO,GAAG,OAAOP,EAAIa,GAAGb,EAAIc,QAAQE,KAAKC,MAAM,KAAK,IAAI,OAAOjB,EAAIa,GAAGb,EAAIc,QAAQE,KAAKC,MAAM,KAAK,GAAGA,MAAM,KAAK,IAAI,IAAIjB,EAAIa,GAAGb,EAAIc,QAAQE,KAAKC,MAAM,KAAK,GAAGA,MAAM,KAAK,IAAI,OAAOf,EAAG,OAAO,CAACE,MAAM,CAAC,QAAUJ,EAAIc,SAASI,GAAG,CAAC,cAAclB,EAAImB,WAAW,gBAAgBnB,EAAImB,WAAW,aAAanB,EAAIoB,cAAc,KAAKlB,EAAG,cAAc,EAClsB,EACIM,EAAkB,CAAC,WAAY,IAAIR,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACA,EAAG,KAAK,CAACG,YAAY,aAAa,CAACL,EAAIO,GAAG,cAC5H,G,wCC2BA,GACAc,OACA,OACAT,KAAAA,CAAAA,EACAE,QAAAA,CAAAA,EAEA,EACAQ,WAAAA,CACAC,KAAAA,EAAAA,EACAC,UAAAA,EAAAA,EACAC,QAAAA,EAAAA,GAEAC,MAAAA,CACA,gBACAC,QAAAA,GACA,aACA,yBACA,uCACA,EACAC,WAAAA,IAGAC,QAAAA,CACA,mBACA,2CACAC,OAAAA,MACAC,QAAAA,CACA,qCAGA,SACA,qBACA,gBACA,MACA,mBAAAC,KAAAA,WAAA,eAEA,EACA,wBACA,oDACAF,OAAAA,MACAC,QAAAA,CACA,qCAGA,SACA,qBACA,sBACA,MACA,mBAAAC,KAAAA,WAAA,eAEA,EACA,yBACA,+CACA,EACAZ,YACA,6BACA,ICtFuP,I,UCOnPV,GAAY,OACd,EACAX,EACAS,GACA,EACA,KACA,KACA,MAIF,EAAeE,EAAiB,O","sources":["webpack://frontend/./src/components/AuthModal.vue","webpack://frontend/./src/components/AuthModal.vue?2281","webpack://frontend/./src/views/Message.vue","webpack://frontend/src/views/Message.vue","webpack://frontend/./src/views/Message.vue?b97a","webpack://frontend/./src/views/Message.vue?83b3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"no-auth\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[_c('div',{staticClass:\"w-75 my-5 mx-auto\"},[_c('p',{staticClass:\"mb-4 h4\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"You must be logged in to \"),_c('b-icon-heart-fill',{staticStyle:{\"color\":\"#F91880\"}}),_vm._v(\" a message \")],1),_c('p',{staticStyle:{\"font-weight\":\"300\"}},[_vm._v(\" Sign up or sign in \")]),_c('router-link',{staticClass:\"w-100 modal-btn mb-2 text-center\",attrs:{\"to\":\"/signup\"}},[_vm._v(\" Sign up \")]),_c('router-link',{staticClass:\"w-100 modal-btn text-center\",attrs:{\"to\":\"/signin\"}},[_vm._v(\" Sign in \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AuthModal.vue?vue&type=template&id=3d740b34&scoped=true&\"\nvar script = {}\nimport style0 from \"./AuthModal.vue?vue&type=style&index=0&id=3d740b34&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d740b34\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mx-auto vh-100\"},[_vm._m(0),_c('span',[_c('UserBtn',{attrs:{\"user\":this.user}})],1),_c('div',{staticClass:\"bordered-top mt-3\"},[_c('p',{staticClass:\"mt-3\",staticStyle:{\"font-weight\":\"800\"}},[_vm._v(\" \"+_vm._s(_vm.message.text)+\" \")]),_c('div',{staticClass:\"bordered-top\"},[_c('p',[_vm._v(\" On \"+_vm._s(_vm.message.date.split(\"T\")[0])+\" at \"+_vm._s(_vm.message.date.split(\"T\")[1].split(\":\")[0])+\":\"+_vm._s(_vm.message.date.split(\"T\")[1].split(\":\")[1])+\" \")]),_c('Like',{attrs:{\"message\":_vm.message},on:{\"liked-event\":_vm.reloadData,\"unliked-event\":_vm.reloadData,\"auth-event\":_vm.showModal}})],1)]),_c('AuthModal')],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',[_c('h1',{staticClass:\"display-4\"},[_vm._v(\"Message\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"mx-auto vh-100\">\n        <span>\n            <h1 class=\"display-4\">Message</h1>\n        </span>\n        <span>\n            <UserBtn :user=\"this.user\" />\n        </span>\n        <div class=\"bordered-top mt-3\">\n            <p class=\"mt-3\" style=\"font-weight: 800;\">\n                {{ message.text }}\n            </p>\n            <div class=\"bordered-top\">\n                <p>\n                    On {{ message.date.split(\"T\")[0] }} at\n                    {{ message.date.split(\"T\")[1].split(\":\")[0] }}:{{ message.date.split(\"T\")[1].split(\":\")[1] }}\n                </p>\n                <Like :message=\"message\" @liked-event=\"reloadData\" @unliked-event=\"reloadData\"\n                    @auth-event=\"showModal\" />\n            </div>\n        </div>\n        <AuthModal />\n    </div>\n</template>\n\n<script>\nimport Like from \"../components/Like.vue\";\nimport AuthModal from \"../components/AuthModal.vue\";\nimport UserBtn from \"../components/UserBtn.vue\";\n\nexport default {\n    data() {\n        return {\n            user: {},\n            message: {}\n        }\n    },\n    components: {\n        Like,\n        AuthModal,\n        UserBtn\n    },\n    watch: {\n        \"$route.query\": {\n            handler(obj) {\n                this.user = {};\n                this.fetchUser(obj.userId);\n                this.fetchMessage(obj.userId, obj.messageId);\n            },\n            immediate: true,\n        }\n    },\n    methods: {\n        async fetchUser(userId) {\n            const res = await fetchApi(\"/social/users/\" + userId, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n            if (res.ok) {\n                let userJson = await res.json();\n                this.user = userJson.user\n            } else {\n                this.$router.push({ path: \"/error\" }).catch(() => { });\n            }\n        },\n        async fetchMessage(userId, messageId) {\n            const res = await fetchApi(\"/social/messages/\" + userId + \"/\" + messageId, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n            if (res.ok) {\n                let messageJson = await res.json();\n                this.message = messageJson.message;\n            } else {\n                this.$router.push({ path: \"/error\" }).catch(() => { });\n            }\n        },\n        async reloadData() {\n            await this.fetchMessage(this.user.id, this.message.id);\n        },\n        showModal() {\n            this.$bvModal.show(\"no-auth\")\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=d6710d42&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","staticStyle","_v","staticRenderFns","script","component","_m","user","_s","message","text","date","split","on","reloadData","showModal","data","components","Like","AuthModal","UserBtn","watch","handler","immediate","methods","method","headers","path"],"sourceRoot":""}